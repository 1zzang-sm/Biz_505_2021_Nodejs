<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>주문리스트</title>
	<link rel="stylesheet" href="/css/footer.css" />
	<link rel="stylesheet" href="/css/header.css" />
</head>
<style>
	* {
		margin: 0;
		padding: 0;
	}
	.main {
		width: 100%;
		height:600px;
	}
	.left {
		width:35%;
		height:100%;
		float:left;
		background-color: aqua;
		box-sizing: border-box;
	}
	.right {
		width: 65%;
		height:100%;
		float:right;
		background-color: steelblue;
		box-sizing: border-box;
	}
	table.pro_list {
		color: white;
		font-size : 20px;
	}
	table.pro_list td:hover {
		background-color:white;
		color: black;
		cursor:pointer;
	}
	table.order_list {
		border-collapse: separate;
  		border-spacing: 0 10px;
	}
	table.order_list th {
		background-color: wheat;
		border-top:1px solid black;
		padding:16px 12px;
	}
	button {
		background-color: white;
		width:100%;
		border:none;
		padding:16px;
	}
	button:hover {
		background-color: black;
		color: white;
		cursor:pointer;
	}
</style>
<body>
	<header class="root">
		<h1>WELCOME MY RESTORANT POSS</h1>
	</header>
<div class="main">
<div class="left">
	<h1><%- data %>번 테이블</h1>
	<table class="order_list">
		<tr>
			<th>품목</th>
			<th>단가</th>
			<th>수량</th>
			<th>금액</th>
		</tr>
		<!-- foreach로 할예정-->
		<tr>
			<td class="name"></td>
			<td class="price"></td>
			<td class="set"></td>
			<td class="sum"></td>
		</tr>
		<tr>
			<td>합계</td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
	</table>
	<input class="test" value>
	<button class="cash">결제하기</button>
</div>
	<div class="right">
		<table class="pro_list">
			<% PDT.forEach((vo, index)=>{ %>
			<tr data-id="<%- vo.p_code %>">
				<td><%- vo.p_name %> - <%- vo.p_price %>원</td>
			</tr>
			<% }) %>
		</table>
	</div>
</div>
<footer>
	CopyRight &copy; captain1152@naver.com | 서울특별시 해운대구 행복동 왕십리 79 | 대표 : 단무지셀프
</footer>
<section class="modal" style="display:none;">
	<div class="main">
		<h1><%- data %> 테이블 결제</h1>
		<h3><%- PDT.p_name %></h3>
	</div>
</section>
</body>
<script>
	let name = document.querySelector("td.name")
	let price = document.querySelector("td.price")
	let set = document.querySelector("td.set")
	let sum = document.querySelector("td.sum")
	let test = document.querySelector("input.test")

	document.querySelector("table.pro_list").addEventListener("click", (e)=>{
		const td = e.target;
		 alert(td.tagName);
		if(td.tagName === "TD") {
			const tr = td.closest("TR")
			const p_code = tr.dataset.id;
			
			test.value = `<%- PDT.p_code %>`
			
			}

	})
	document.querySelector("button.cash").addEventListener("click", (e)=>{
		test.value = `<%- data %>`
	})
	

	document.querySelector("header.root").addEventListener("click", (e)=>{
		  document.location.href = "/"
	  })
	
</script>

</html>